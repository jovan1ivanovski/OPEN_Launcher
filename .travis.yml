language: node_js

script: node_modules/karma/bin/karma start karma.conf.js --single-run
    
before_script:
    - export CHROME_BIN=chromium-browser
    - export DISPLAY=:99.0
    - sh -e /etc/init.d/xvfb start
    - npm install
    - npm run test


notifications:
  slack: otwangular2:FoXPtnPC1yCGFxuiLF01EnuD
  
branches:
  only:
    - master
    - development

# Github deployment key
env:
    - secure:"82056494fbcea70ce480b0e6a4695868cd3775a3"

    
    
after_success:
  - "curl -o /tmp/travis-automerge https://raw.githubusercontent.com/jovan1ivanovski/OPEN_Launcher/development/github-automerge-script"
  - "chmod a+x /tmp/travis-automerge"
  - "GITHUB_SECRET_TOKEN='82056494fbcea70ce480b0e6a4695868cd3775a3' GITHUB_REPO=jovan1ivanovski/OPEN_Launcher /tmp/travis-automerge"


  